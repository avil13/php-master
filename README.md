# php-master
Simple docker-compose config to work with php.


Простой в использовании репозиторий, если есть желание что то быстро попробовать на php.

Используется:

- php:7.4
- mariadb:10.5
- nginx
- phpmyadmin


# Структура проекта

- etc - папка с конфигами, включая nginx
- www - папка с сайтами.
- make_site.sh - скрипт для быстрого добавления новой папки сайта, к ней, конфига nginx и генерации сертификата ssl.

# Запуск

Уже должен иметься docker и docker-compose.

В корне проекта

```bash
# поднимаем локальный контейнер
docker-compose up -d
```

По умолчанию используется адрес `http://0.0.0.0/`

Можно добавить домен через `/etc/hosts` (или аналоги в зависимости от ОС)

```
# Host addresses
127.0.0.1  localhost
127.0.1.1  avil-emachinesg730
::1        localhost ip6-localhost ip6-loopback
ff02::1    ip6-allnodes
ff02::2    ip6-allrouters

0.0.0.0    test.loc

```

test.loc - используется для примера и теста работы

# Добавление сайта

Для добавления нового сайта используется скрипт `make_site.sh`.

После запуска, он создаст папку с названием домена в `www` и конфиг для ее подключения в nginx и ssl сертификат.

После создания сайта, рекомендуется перезапустить docker-compose что бы применить конфиг в nginx.

> По умолчанию, все создаваемые файлы находятся в `.gitignore`. Это вы должны будете исправить самостоятельно


